{% extends "layouts/master.html" %}
{% load i18n %}
{% block "contenu" %}
<section>
        <style>
        header{
            display: none !important;
        }
        .foot_1,.foot_2{
            display: none !important;
        }
        .condition-section {
            width: 100%;
        }

        .container_condi {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            /* width: 90%; */
            max-width: 600px;
            margin: 20px auto;
        }

        .container_condi h2 {
            font-size: 32px !important;
            margin-bottom: 25px;
            color: #333;
            text-align: center;
            font-weight: bold;
        }

        .section-title {
            color: #333;
            text-align: center;
            margin: 25px 0;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-size: 28px !important;
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 12px 18px;
            border: none;
            border-radius: 50px;
            background: #f0f0f0;
            box-sizing: border-box;
            font-size: 18px !important;
            height: 55px;
        }

        textarea.form-control {
            min-height: 120px;
            font-size: 18px !important;
            padding: 15px;
            line-height: 1.5;
            height: auto;
        }

        select.form-control {
            font-size: 12px !important;
            height: 55px;
        }

        label {
            display: inline-block;
            margin-bottom: 12px;
            font-size: 20px !important;
            color: #333;
            font-weight: 500;
        }

        .btn-submit {
            height: 40px;
            font-size: 22px !important;
            font-weight: 600;
            min-height: 55px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 15px;
            border-radius: 25px;
            touch-action: manipulation;
        }

        @media screen and (max-width: 768px) {
            .condition-section {
                position: fixed;
                padding: 0;
                margin: 0;
                align-items: flex-start;
                overflow-y: auto;
            }
            
            .container_condi {
                width: 100%;
                max-width: 100%;
                /* margin: 0; */
                padding: 15px;
                border-radius: 0;
                box-shadow: none;
                min-height: 100%;
            }

            .container_condi h2 {
                font-size: 28px !important;
                margin: 20px 0;
            }

            .section-title {
                font-size: 24px !important;
                margin: 20px 0;
                padding: 0 15px;
            }

            .form-control {
                height: 55px;
                font-size: 18px !important;
                padding: 12px 15px;
            }

            textarea.form-control {
                min-height: 120px;
                font-size: 18px !important;
                padding: 15px;
                line-height: 1.6;
                height: auto;
            }

            label {
                font-size: 18px !important;
                margin-bottom: 10px;
            }

            .btn-submit {
                height: 40px;
                font-size: 25px !important;
            }
        }

        /* Ajustements spécifiques pour les très petits écrans */
        @media screen and (max-width: 380px) {
            .container_condi {
                padding: 10px;
            }

            .form-control {
                padding: 10px 12px;
            }

            .section-title {
                font-size: 22px !important;
            }

            .form-control {
                font-size: 16px !important;
            }

            label {
                font-size: 16px !important;
            }
        }

        /* Styles pour l'upload de photo */
        .photo-section {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .photo-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 15px auto;
            border: 3px solid #4ECDC4;
            overflow: hidden;
            display: flex;
            justify-content: center;
        }
        .photo-preview img{
            height: 150px;
            width: 150px;
            height: 150px;
            object-fit: cover;
            object-position: center;
        }

        /* Styles pour les sections */
        .form-section {
            margin: 25px 0;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .section-title {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
            font-size: 20px;
        }

        /* Styles pour les champs de formulaire */
        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            flex: 1;
            padding-bottom: 15px;
        }

        /* Styles pour les boutons */
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-submit {
            flex: 1;
        }
    </style>

    <div class="container_condi">
        <h2>{% trans "Complétez votre profil" %}</h2>
        
    {% if messages %}
        <div class="alert alert-danger" style="color: #c00; background: #ffeaea; border-radius: 8px; padding: 10px 20px; margin-bottom: 20px; text-align:center; font-weight:600;">{{ messages }}</div>

    {% endif %}
        <form action="{% url 'condition_admi' %}" method="post" enctype="multipart/form-data">
            <!-- Section Photo -->
             {% csrf_token %}
            <div class="form-section photo-section">
                <h3 class="section-title">{% trans "Photo de profil" %}</h3>
                <div class="photo-preview">
                    <img id="preview" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='50' viewBox='0 0 24 24'%3E%3Cpath fill='%23666' d='M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'/%3E%3C/svg%3E" alt="Photo de profil">
                </div>
                <input type="file" id="photo" name="images" accept="image/*" onchange="previewImage(this)">
                <label for="photo">{% trans "Choisir une photo" %}</label>
            </div>

            <script>
                function previewImage(input) {
                    const preview = document.getElementById('preview');
                    const file = input.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function(e) {
                            preview.src = e.target.result;
                        }
                        reader.readAsDataURL(file);
                    }
                }
            </script>

            <!-- Section Apparence -->
            <div class="form-section">
                <h3 class="section-title">{% trans "Apparence physique" %}</h3>
                <div class="form-row">
                    <div class="form-group">
                        <select class="form-control" name="cheveux" >
                            <option value="">{% trans "Couleur des cheveux" %}</option>
                            <option value="blond">{% trans "Blond" %}</option>
                            <option value="gris">{% trans "Gris" %}</option>
                            <option value="marron">{% trans "Marron" %}</option>
                            <option value="noir">{% trans "Noir" %}</option>
                            <option value="change">{% trans "Je change souvent" %}</option>
                            <option value="chatain">{% trans "Châtain" %}</option>
                            <option value="autre">{% trans "Autre" %}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <select class="form-control" name="yeux" >
                            <option value="">{% trans "Couleur des yeux" %}</option>
                            <option value="bleu">{% trans "Bleu" %}</option>
                            <option value="gris">{% trans "Gris" %}</option>
                            <option value="marron">{% trans "Marron" %}</option>
                            <option value="noir">{% trans "Noir" %}</option>
                            <option value="noisette">{% trans "Noisette" %}</option>
                            <option value="vert">{% trans "Vert" %}</option>
                            <option value="autre">{% trans "Autre" %}</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <!-- <input type="number" class="form-control" name="taille" placeholder="Taille (cm)" > -->
                        <select name="taille" id="taillePersonne" class="form-control">
                            <option value="">Taille</option>
                            <option value="100">100 cm</option>
                            <option value="105">105 cm</option>
                            <option value="110">110 cm</option>
                            <option value="115">115 cm</option>
                            <option value="120">120 cm</option>
                            <option value="125">125 cm</option>
                            <option value="130">130 cm</option>
                            <option value="135">135 cm</option>
                            <option value="140">140 cm</option>
                            <option value="145">145 cm</option>
                            <option value="150">150 cm</option>
                            <option value="155">155 cm</option>
                            <option value="160">160 cm</option>
                            <option value="165">165 cm</option>
                            <option value="170">170 cm</option>
                            <option value="175">175 cm</option>
                            <option value="180">180 cm</option>
                            <option value="185">185 cm</option>
                            <option value="190">190 cm</option>
                            <option value="195">195 cm</option>
                            <option value="200">200 cm</option>
                            <option value="205">205 cm</option>
                            <option value="210">210 cm</option>
                            <option value="215">215 cm</option>
                            <option value="220">220 cm</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="number" class="form-control" name="poids" placeholder="{% trans 'Poids (kg)' %}" >
                    </div>
                </div>
            </div>

            <!-- Section Mode de vie -->
            <div class="form-section">
                <h3 class="section-title">{% trans "Mode de vie" %}</h3>
                <div class="form-group">
                    <select class="form-control" name="alcool" >
                        <option value="">{% trans "Buvez-vous ?" %}</option>
                        <option value="oui">{% trans "Bois" %}</option>
                        <option value="occasion">{% trans "Bois à l'occasion" %}</option>
                        <option value="non">{% trans "Ne bois pas" %}</option>
                    </select>
                </div>

                <div class="form-group">
                    <select class="form-control" name="tabac" >
                        <option value="">{% trans "Fumez-vous ?" %}</option>
                        <option value="oui">{% trans "Je fume" %}</option>
                        <option value="occasion">{% trans "Je fume à l'occasion" %}</option>
                        <option value="non">{% trans "Je ne fume pas" %}</option>
                    </select>
                </div>

                <div class="form-group">
                    <select class="form-control" name="situation" >
                        <option value="">{% trans "Situation matrimoniale" %}</option>
                        <option value="celibataire">{% trans "Célibataire" %}</option>
                        <option value="separe">{% trans "Séparé(e)" %}</option>
                        <option value="veuf">{% trans "Veuf/Veuve" %}</option>
                        <option value="divorce">{% trans "Divorcé(e)" %}</option>
                        <option value="autre">{% trans "Autre" %}</option>
                    </select>
                </div>

                <div class="form-group">
                    <!-- <input type="number" name="enfants" class="form-control" placeholder="Nombre d'enfants" min="0" > -->
                    <select name="enfants" id="" class="form-control">
                        <option value="">{% trans "Nombre d'enfants" %}</option>
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">10 +</option>
                    </select>
                    
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">{% trans "Description" %}</h3>
                <div class="form-group">
                    <textarea class="form-control" placeholder="{% trans 'À propos de vous' %}" name="description" style="border-radius: 10px;" ></textarea>
                </div>

                <div class="form-group">
                    <textarea class="form-control" name="recherche" placeholder="{% trans 'À propos de la personne que vous recherchez' %}" style="border-radius: 10px;"></textarea>
                </div>
            </div>

            <div class="button-group">
                <button type="button" class="btn-submit" style="background: #710193;border: none;" ><a style="text-decoration: none;color: rgb(247, 244, 246);" href="{% url 'deconnexion' %}">{% trans "Retour" %}</a></button>
                <button type="submit" class="btn-submit" style="background-color: #E11584;border: none;color:white;">{% trans "Valider" %}</button>
            </div>
        </form>
    </div>
</section>
  
{% endblock "contenu" %}